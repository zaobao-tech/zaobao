---
layout: layout.njk
title: 首页
navSection: home
---

<div class="heatmap-section">
  <div class="year-tabs" id="year-tabs">
    {% for y in zaobao.years %}
    <button type="button" class="year-tab {% if y == zaobao.years[0] %}is-active{% endif %}" data-year="{{ y }}">{{ y }}</button>
    {% endfor %}
  </div>
  <div class="heatmap-wrap" id="heatmap-wrap">
    {% for year in zaobao.years %}
    <div class="heatmap-year {% if year == zaobao.years[0] %}is-active{% endif %}" data-year="{{ year }}" id="heatmap-{{ year }}">
      <div class="heatmap-grid">
        <div class="heatmap-labels heatmap-days">
          <span>周一</span><span>周二</span><span>周三</span><span>周四</span><span>周五</span><span>周六</span><span>周日</span>
        </div>
        <div class="heatmap-cells">
          {% set rowsByDay = zaobao.calendarByYear[year] %}
          {% for row in rowsByDay %}
          <div class="heatmap-week">
            {% for cell in row %}
            {% if cell %}
            <a href="{% if cell.count > 0 %}#/day/{{ cell.dateKey }}/1{% else %}#{% endif %}" class="cell {% if cell.count > 0 %}has-data{% endif %} {% if cell.isToday %}is-today{% endif %}" data-date="{{ cell.dateKey }}" data-count="{{ cell.count }}" title="{{ cell.title }}"></a>
            {% else %}
            <span class="cell empty"></span>
            {% endif %}
            {% endfor %}
          </div>
          {% endfor %}
        </div>
      </div>
      <div class="heatmap-month-row">
        <div class="heatmap-labels heatmap-months-placeholder"></div>
        <div class="heatmap-month-cells">
          {% for month in zaobao.monthLabelsByYear[year] %}
          <span class="month-cell">{% if month %}{{ month }}月{% endif %}</span>
          {% endfor %}
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

<div class="nav-layout nav-layout--zaobao">
  {% set navVariant = "zaobao" %}
  {% include "nav-left-aside.njk" %}
  {% include "nav-list-detail.njk" %}
</div>

<div class="index-skills-view" id="index-skills-view" aria-hidden="true">
  <section class="nav-layout nav-layout--skills">
    {% set navVariant = "skills" %}
    {% include "nav-left-aside.njk" %}
    {% include "nav-list-detail.njk" %}
  </section>
</div>

<script>
  window.ZAOBAO_DATA = {{ zaobao.daysByDate | json | safe }};
  window.ZAOBAO_TAGS = {{ zaobao.tagsIndex | json | safe }};
  window.ZAOBAO_TOTAL_BY_YEAR = {{ zaobao.totalByYear | json | safe }};
  window.ZAOBAO_YEARS = {{ zaobao.years | json | safe }};
  window.ZAOBAO_SITE_TITLE = {{ site.title | json | safe }};
  {% if skillsIndex %}
  window.ZAOBAO_SKILLS = {{ skillsIndex.skillsList | json | safe }};
  window.ZAOBAO_SKILLS_SLUG_TO_NAME = {{ skillsIndex.slugToName | json | safe }};
  window.ZAOBAO_TAG_SKILLS = {{ skillsIndex.tagToSkills | json | safe }};
  window.ZAOBAO_SKILL_CONTENT = {{ zaobao.skillContentBySlug | json | safe }};
  window.ZAOBAO_CATEGORY_TREE = {{ skillsIndex.categoryTreeWithCounts | json | safe }};
  window.ZAOBAO_SKILLS_BY_CATEGORY = {{ skillsIndex.skillsByCategorySlug | json | safe }};
  {% endif %}
</script>
